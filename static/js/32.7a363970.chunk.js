(this["webpackJsonpacademycloud-frontend"]=this["webpackJsonpacademycloud-frontend"]||[]).push([[32],{221:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=a(185).a.a.withConfig({displayName:"ClickableA",componentId:"sc-101ya6b-0"})(["cursor:pointer;"])},233:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return m}));var n=a(1),r=a.n(n),c=a(43),i=c.d.validateMessages,l=r.a.createElement(c.b,{id:i.required}),o=(c.b,i.number,r.a.createElement(c.b,{id:i.integer})),m=r.a.createElement(c.b,{id:i.email})},377:function(e,t,a){e.exports=a.p+"static/media/logo-horizontal.ec31d2cc.svg"},396:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(15),r=a(4),c=a(5),i=a(7),l=a(6),o=a(1),m=a.n(o),s=a(185),u=a(24),d=(a(397),a(377)),p=a.n(d),g=a(43),b=g.d.footer,h=[{title:b.contact.title,content:[b.contact.github,b.contact.website,b.contact.linkedin],contentLink:["https://github.com/ddadaal","https://ddadaal.me","https://linkedin.com/chenjunda"]},{title:b.moreProducts.title,content:[b.moreProducts.chainstore,b.moreProducts.chainpaper,b.moreProducts.aplusquant,b.moreProducts.tagx00,b.moreProducts.lightx00],contentLink:["https://github.com/NJUChainStore/ChainStore","https://github.com/ddadaal/ChainPaper-Frontend","https://github.com/FinTechNJU/FinBrain","https://github.com/trapx00/Tagx00","https://github.com/trapx00/Lightx00"]}],f=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).getLiChildren=function(t,a){var n=t.contentLink,r=t.content.map((function(e,t){var a=m.a.createElement(g.b,{id:e}),r=n[t];return m.a.createElement("li",{key:t},r.startsWith("/")?m.a.createElement(u.a,{to:r},a):m.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},a))}));return m.a.createElement("li",{key:a,id:"".concat(e.props.id,"-block").concat(a)},m.a.createElement("h2",null,m.a.createElement(g.b,{id:t.title})),m.a.createElement("ul",null,r))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=Object(n.a)({},this.props);delete e.isMobile;var t=h.map(this.getLiChildren);return m.a.createElement("div",e,m.a.createElement("ul",null,m.a.createElement("li",{key:"logo",id:"".concat(e.id,"-logo")},m.a.createElement(E,null,m.a.createElement("img",{src:p.a})),m.a.createElement("p",null,m.a.createElement(g.b,{id:b.description})," ")),t),m.a.createElement("p",{className:"copyright"},(new Date).getFullYear()," | ",m.a.createElement(g.b,{id:b.copyright.madeWithLove})))}}]),a}(m.a.Component);f.defaultProps={className:"footer1",id:"footer_1_0",isMobile:!1};var E=s.a.div.withConfig({displayName:"Footer__LogoContainer",componentId:"jxh0g0-0"})(["img{width:auto;height:40px;margin-bottom:12px;}"])},397:function(e,t,a){},640:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(24),i=a(57),l=a(11),o=(a(220),a(219)),m=a(185),s=(a(346),a(352)),u=(a(347),a(333)),d=a(43),p=a(26),g=a(653),b=a(652),h=a(221);function f(){var e=Object(l.c)(d.a),t=e.currentLanguage,a=e.changeLanguage;return r.a.createElement(s.a,{trigger:["click","hover"],overlay:r.a.createElement(u.a,{selectedKeys:[t.metadata.id]},p.a.filter((function(e){return e.metadata.id!==t.metadata.id})).map((function(e){return r.a.createElement(u.a.Item,{key:e.metadata.id},r.a.createElement(h.a,{onClick:function(){return a(e.metadata.id)}},e.metadata.name))})))},r.a.createElement(h.a,null,r.a.createElement(g.a,null)," ",t.metadata.name," ",r.a.createElement(b.a,null)))}var E=a(396),v=a(377),y=a.n(v),x=(a(439),a(417)),j=a(93),w=d.d.homepage.pageIndicator,O=function(){var e=Object(j.a)();return r.a.createElement(x.a.Group,{value:e.pathname},r.a.createElement(x.a.Button,{onClick:function(){return Object(c.e)("/")},value:"/"},r.a.createElement(d.b,{id:w.login})),r.a.createElement(x.a.Button,{onClick:function(){return Object(c.e)("/register")},value:"/register"},r.a.createElement(d.b,{id:w.register})))},k=m.a.div.withConfig({displayName:"HomePageLayout__Container",componentId:"sc-1sxlcz8-0"})(["display:flex;flex-direction:column;height:100vh;overflow:auto;background-image:url('https://gw.alipayobjects.com/zos/rmsportal/TVYTbAXWheQpRcWDaDMu.svg');background-position:center 110px;background-size:100%;"]),I=m.a.div.withConfig({displayName:"HomePageLayout__Center",componentId:"sc-1sxlcz8-1"})(["padding:32px;flex:1;display:flex;align-items:center;justify-content:center;"]),C=m.a.div.withConfig({displayName:"HomePageLayout__RowCenter",componentId:"sc-1sxlcz8-2"})(["text-align:center;"]),N=m.a.div.withConfig({displayName:"HomePageLayout__Header",componentId:"sc-1sxlcz8-3"})(["a{text-decoration:none;}"]),_=m.a.div.withConfig({displayName:"HomePageLayout__Content",componentId:"sc-1sxlcz8-4"})(["max-width:600px;transform:translateY(-10%);"]),L=m.a.div.withConfig({displayName:"HomePageLayout__FormSection",componentId:"sc-1sxlcz8-5"})(["max-width:400px;margin-left:auto;margin-right:auto;margin-top:32px;"]),P=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(k,null,r.a.createElement(I,null,r.a.createElement(_,null,r.a.createElement(N,null,r.a.createElement(c.a,{to:"/"},r.a.createElement("img",{width:"100%",alt:"logo",src:y.a}))),r.a.createElement(C,null,r.a.createElement(O,null)),r.a.createElement(L,null,t),r.a.createElement(C,null,r.a.createElement(f,null))))),r.a.createElement(E.a,null))},F=Object(m.a)(o.a).withConfig({displayName:"HomePageLayout__FormButton",componentId:"sc-1sxlcz8-6"})(["width:100%;"]),S=(a(440),a(420)),z=(a(227),a(232)),A=(a(247),a(248)),H=a(0),T=a.n(H),q=a(2),B=(a(369),a(372)),J=a(10),M=a(459),W=a(651),D=a(28),Y=a(20),R=a(423),U=a(524),V=function(e){var t=e.title,a=e.titleId,n=Object(R.a)(e,["title","titleId"]),c=Object(l.c)(d.a),i=t||(a?c.translate(a):null),o="".concat(i?"".concat(i," | "):"","AcademyCloud");return r.a.createElement(U.Helmet,Object.assign({title:o},n))},G=a(233),K=a(65),Q=d.d.homepage.loginForm,X=function(){var e=Object(l.c)(i.a),t=Object(l.c)(K.a),a=B.a.useNotification(),c=Object(J.a)(a,2),o=c[0],m=c[1],s=Object(n.useState)(!1),u=Object(J.a)(s,2),p=u[0],g=u[1],b=function(){var a=Object(q.a)(T.a.mark((function a(n){var c,i,l,m,s,u,p,b;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.username,i=n.password,a.prev=1,g(!0),s=Object(D.a)(Y.a),a.next=6,s.getScopes(c,i);case 6:return u=a.sent,p=null!==(l=null!==(m=u.defaultScope)&&void 0!==m?m:u.lastLoginScope)&&void 0!==l?l:u.scopes[0],a.next=10,s.login(c,i,p);case 10:b=a.sent,e.login({userId:b.userId,username:c,scope:p,token:b.token,remember:n.remember,userActive:b.userActive,scopeActive:b.scopeActive}),t.setScopes(u.scopes,n.remember),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(1),o.error({message:r.a.createElement(d.b,{id:Q.loginFailTitle}),description:r.a.createElement(d.b,{id:Q.other})});case 18:return a.prev=18,g(!1),a.finish(18);case 21:case"end":return a.stop()}}),a,null,[[1,15,18,21]])})));return function(e){return a.apply(this,arguments)}}(),h=Object(d.f)(Q.username,Q.password),f=Object(J.a)(h,2),E=f[0],v=f[1];return r.a.createElement(z.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:b},m,r.a.createElement(V,{titleId:Q.title}),r.a.createElement(z.a.Item,{name:"username",rules:[{required:!0,message:G.c}]},r.a.createElement(A.a,{disabled:p,prefix:r.a.createElement(M.a,{className:"site-form-item-icon"}),placeholder:E})),r.a.createElement(z.a.Item,{name:"password",rules:[{required:!0,message:G.c}]},r.a.createElement(A.a,{prefix:r.a.createElement(W.a,{className:"site-form-item-icon"}),type:"password",disabled:p,placeholder:v})),r.a.createElement(z.a.Item,null,r.a.createElement(z.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0},r.a.createElement(S.a,{disabled:p},r.a.createElement(d.b,{id:Q.remember}))),r.a.createElement(Z,null,r.a.createElement(d.b,{id:Q.forget}))),r.a.createElement(z.a.Item,null,r.a.createElement(F,{loading:p,type:"primary",htmlType:"submit"},r.a.createElement(d.b,{id:Q.login}))))},Z=m.a.a.withConfig({displayName:"Login__ForgotLink",componentId:"sc-1w51peu-0"})(["float:right;"]),$=a(655),ee=d.d.homepage.registerForm,te=function(){var e=Object(l.c)(i.a),t=Object(l.c)(K.a),a=B.a.useNotification(),c=Object(J.a)(a,2),o=c[0],m=c[1],s=Object(n.useState)(!1),u=Object(J.a)(s,2),p=u[0],g=u[1],b=Object(n.useCallback)(function(){var a=Object(q.a)(T.a.mark((function a(n){var c,i,l,m,s,u,p,b;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.username,i=n.password,l=n.email,g(!0),m=Object(D.a)(Y.a),a.prev=3,a.next=6,m.register(c,i,l);case 6:s=a.sent,u=s.scope,p=s.token,b=s.userId,e.login({userId:b,username:c,scope:u,token:p,remember:!0,userActive:!0,scopeActive:!0}),t.setScopes([u],!0),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(3),403===a.t0.status?o.error({message:r.a.createElement(d.b,{id:ee.registerFailed}),description:r.a.createElement(d.b,{id:ee.conflict})}):o.error({message:r.a.createElement(d.b,{id:ee.registerFailed}),description:r.a.createElement(d.b,{id:ee.other})});case 18:return a.prev=18,g(!1),a.finish(18);case 21:case"end":return a.stop()}}),a,null,[[3,14,18,21]])})));return function(e){return a.apply(this,arguments)}}(),[]),h=Object(d.f)(ee.username,ee.password,ee.email),f=Object(J.a)(h,3),E=f[0],v=f[1],y=f[2];return r.a.createElement(z.a,{onFinish:b,name:"register"},m,r.a.createElement(V,{titleId:ee.title}),r.a.createElement(z.a.Item,{name:"username",rules:[{required:!0,message:G.c}]},r.a.createElement(A.a,{disabled:p,prefix:r.a.createElement(M.a,{className:"site-form-item-icon"}),placeholder:E})),r.a.createElement(z.a.Item,{name:"password",rules:[{required:!0,message:G.c}]},r.a.createElement(A.a,{type:"password",disabled:p,prefix:r.a.createElement(W.a,{className:"site-form-item-icon"}),placeholder:v})),r.a.createElement(z.a.Item,{name:"email",rules:[{type:"email",message:G.a},{required:!0,message:G.c}]},r.a.createElement(A.a,{prefix:r.a.createElement($.a,{className:"site-form-item-icon"}),placeholder:y})),r.a.createElement(z.a.Item,null,r.a.createElement(F,{loading:p,type:"primary",htmlType:"submit",className:"login-form-button"},r.a.createElement(d.b,{id:ee.register}))))},ae=a(8);t.default=function(){var e=Object(l.c)(i.a);if(e.loggedIn){var t=e.user.scope;return r.a.createElement(c.b,{noThrow:!0,to:Object(ae.f)(t)?"/expenses":"/resources"})}return r.a.createElement(P,null,r.a.createElement(c.c,null,r.a.createElement(X,{path:"/"}),r.a.createElement(te,{path:"/register"})))}}}]);
//# sourceMappingURL=32.7a363970.chunk.js.map