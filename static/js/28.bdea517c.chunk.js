(this["webpackJsonpacademycloud-frontend"]=this["webpackJsonpacademycloud-frontend"]||[]).push([[28],{190:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),c=n(185).a.h1.withConfig({displayName:"TitleText__Title",componentId:"sc-13eorhb-0"})(["font-weight:700;font-size:16px;"]),l=function(e){var t=e.children;return r.a.createElement(c,null,t)}},192:function(e,t,n){"use strict";var a,r;n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r})),function(e){e.Allocated="Allocated",e.Used="Used"}(a||(a={})),function(e){e.System="System",e.Domain="Domain",e.Project="Project",e.User="User",e.UserProjectAssignment="UserProjectAssignment"}(r||(r={}))},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=n(185).a.div.withConfig({displayName:"TitleBar",componentId:"rklovu-0"})(["margin:8px 0;",""],(function(e){var t=e.spaceBetween;return void 0!==t&&t?"\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  ":""}))},197:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n.n(a),c=n(104),l=n.n(c),i=function(e){var t=e.dateTimeString;return r.a.createElement(r.a.Fragment,null,l()(t).format("YYYY-MM-DD HH:mm:ss"))}},200:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(1),r=n.n(a),c=n(207),l=n(206),i=(n(195),n(194)),o=n(43),u=i.a.Column,s=o.d.components.resources,d=function(e){return r.a.createElement(i.a,{pagination:{hideOnSinglePage:!0},dataSource:Object.entries(e.resources),rowKey:"0"},r.a.createElement(u,{title:r.a.createElement(o.b,{id:s.resourceType}),dataIndex:0,render:function(e){return r.a.createElement(o.b,{id:s[e]})}}),r.a.createElement(u,{title:r.a.createElement(o.b,{id:s.values}),dataIndex:1}))},m=o.d.components.resources,f=function(e){var t=e.resources;return r.a.createElement(l.a,{modalTitle:r.a.createElement(o.b,{id:m.modalTitle}),modalContent:r.a.createElement(d,{resources:t})},Object(c.c)(t))}},201:function(e,t,n){"use strict";n(101),n(208)},202:function(e,t,n){"use strict";var a=n(1),r=n(13),c=n.n(r),l=n(21);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};t.a=function(e){return a.createElement(l.a,null,(function(t){var n,r=t.getPrefixCls,l=e.prefixCls,s=e.type,d=void 0===s?"horizontal":s,m=e.orientation,f=void 0===m?"center":m,p=e.className,b=e.children,E=e.dashed,y=u(e,["prefixCls","type","orientation","className","children","dashed"]),g=r("divider",l),v=f.length>0?"-".concat(f):f,j=c()(p,g,"".concat(g,"-").concat(d),(o(n={},"".concat(g,"-with-text").concat(v),b),o(n,"".concat(g,"-dashed"),!!E),n));return a.createElement("div",i({className:j},y,{role:"separator"}),b&&a.createElement("span",{className:"".concat(g,"-inner-text")},b))}))}},206:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(214);var a=n(216),r=n(10),c=n(1),l=n.n(c),i=n(190),o=function(e){var t=e.children,n=e.modalTitle,c=e.modalContent,o=a.a.useModal(),u=Object(r.a)(o,2),s=u[0],d=u[1];return l.a.createElement(l.a.Fragment,null,d,l.a.createElement("a",{onClick:function(){return s.info({icon:null,title:l.a.createElement(i.a,null,n),content:c})}},t))}},207:function(e,t,n){"use strict";function a(e){var t=e.cpu,n=e.memory,a=e.storage;return"".concat(t," | ").concat(n," MB | ").concat(a," GB")}n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var r={cpu:0,memory:0,storage:0};function c(e,t){return{cpu:e.cpu-t.cpu,memory:e.memory-t.memory,storage:e.storage-t.storage}}},208:function(e,t,n){},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n(218);var a=n(217),r=(n(195),n(194)),c=n(1),l=n.n(c),i=n(200),o=n(197),u=n(43),s=n(192),d=u.d.components.billings.table,m=function(e){var t=e.data,n=e.type,c=e.loading;return l.a.createElement(r.a,{dataSource:t,loading:c,rowKey:"id"},l.a.createElement(r.a.Column,{title:l.a.createElement(u.b,{id:d.startTime}),dataIndex:"startTime",render:function(e){return l.a.createElement(o.a,{dateTimeString:e})}}),l.a.createElement(r.a.Column,{title:l.a.createElement(u.b,{id:d.endTime}),dataIndex:"endTime",render:function(e){return l.a.createElement(o.a,{dateTimeString:e})}}),l.a.createElement(r.a.Column,{title:l.a.createElement(u.b,{id:d.quota}),dataIndex:"resources",render:function(e){return l.a.createElement(i.a,{resources:e})}}),l.a.createElement(r.a.Column,{title:l.a.createElement(u.b,{id:d.amount}),dataIndex:"amount",render:function(e){return e.toFixed(2)}}),n===s.b.Allocated?l.a.createElement(r.a.Column,{title:l.a.createElement(u.b,{id:d.payer}),dataIndex:"payerName",render:function(e,t){return l.a.createElement(a.a,{overlay:t.payerId},l.a.createElement("span",null,t.payerName))}}):null)}},331:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=n(185).a.div.withConfig({displayName:"Flexbox__FlexBox",componentId:"sc-9vr96j-0"})(["display:flex;"])},343:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(201);var a=n(202),r=(n(220),n(219)),c=n(1),l=n.n(c),i=n(190),o=n(196),u=n(43),s=n(221),d=n(24),m={name:"step-backward",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M347.6 528.95l383.2 301.02c14.25 11.2 35.2 1.1 35.2-16.95V210.97c0-18.05-20.95-28.14-35.2-16.94L347.6 495.05a21.53 21.53 0 000 33.9M330 864h-64a8 8 0 01-8-8V168a8 8 0 018-8h64a8 8 0 018 8v688a8 8 0 01-8 8"}}]}},f=n(205),p=function(e,t){return l.a.createElement(f.a,Object.assign({},e,{ref:t,icon:m}))};p.displayName="StepBackwardOutlined";var b=l.a.forwardRef(p),E=n(234),y=n(193),g=n(331),v=u.d.components.billings,j=function(e){var t,n,m=e.getData,f=e.id,p=e.billType,j=e.subjectType,h=e.location,x=null===h||void 0===h||null===(t=h.search)||void 0===t||null===(n=t.replace)||void 0===n?void 0:n.call(t,/^.*?=/,""),T=Object(c.useCallback)((function(){return m(f)}),[m,f]),C=Object(y.a)({promiseFn:T}),O=C.data,w=C.isPending,I=C.reload;return l.a.createElement("div",null,l.a.createElement(o.a,{spaceBetween:!0},l.a.createElement(g.a,null,l.a.createElement(i.a,null,l.a.createElement(r.a,null,l.a.createElement(d.a,{to:".."},l.a.createElement(b,null))),l.a.createElement(a.a,{type:"vertical"}),l.a.createElement(u.b,{id:v.history,replacements:[l.a.createElement(u.b,{key:"subjectType",id:v.subjectType[j]}),x||f,l.a.createElement(u.b,{key:"billType",id:v[p]})]}))),l.a.createElement(s.a,{onClick:I},l.a.createElement(u.b,{id:v.refresh}))),l.a.createElement(E.a,{type:p,data:O,loading:w}))}},344:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(15),r=n(1),c=n.n(r),l=n(190),i=n(196),o=n(43),u=n(221),s=n(193),d=(n(195),n(194)),m=(n(218),n(217)),f=n(24),p=n(197),b=n(200),E=n(192),y=o.d.components.billings,g=function(e){var t=e.subjectType,n=e.type,a=e.data,r=e.loading;return c.a.createElement(d.a,{dataSource:a,loading:r,rowKey:"subjectName"},c.a.createElement(d.a.Column,{title:c.a.createElement(o.b,{id:y.subjectType[t]}),dataIndex:"subject",render:function(e,t){return c.a.createElement(m.a,{overlay:t.subjectId},c.a.createElement("span",null,t.subjectName))}}),c.a.createElement(d.a.Column,{title:c.a.createElement(o.b,{id:n==E.b.Allocated?y.table.quota:y.table.resources}),dataIndex:"resources",render:function(e){return c.a.createElement(b.a,{resources:e})}}),c.a.createElement(d.a.Column,{title:c.a.createElement(o.b,{id:y.table.amount}),dataIndex:"amount",render:function(e){return e.toFixed(2)}}),n===E.b.Allocated&&t!==E.a.User&&t!==E.a.UserProjectAssignment?c.a.createElement(d.a.Column,{title:c.a.createElement(o.b,{id:y.table.payer}),dataIndex:"payerName",render:function(e,t){return c.a.createElement(m.a,{overlay:t.payerId},c.a.createElement("span",null,t.payerName))}}):null,c.a.createElement(d.a.Column,{title:c.a.createElement(o.b,{id:y.table.nextDue}),dataIndex:"nextDue",render:function(e){return c.a.createElement(p.a,{dateTimeString:e})}}),c.a.createElement(d.a.Column,{title:c.a.createElement(o.b,{id:y.table.actions}),dataIndex:"subject",render:function(e,t){return c.a.createElement(f.a,{to:t.historyLink},c.a.createElement(o.b,{id:y.table.history}))}}))},v=o.d.components.billings,j=function(e){var t=e.promiseFn,n=e.subjectType,d=e.billType,m=Object(s.a)({promiseFn:t}),f=m.data,p=m.isPending,b=m.reload,E=Object(r.useMemo)((function(){return null===f||void 0===f?void 0:f.map((function(e){return Object(a.a)({},e,{historyLink:"./".concat(e.subjectId,"?name=").concat(e.subjectName)})}))}),[f]);return c.a.createElement("div",null,c.a.createElement(i.a,{spaceBetween:!0},c.a.createElement(l.a,null,c.a.createElement(o.b,{id:v.current,replacements:[c.a.createElement(o.b,{key:"subjectType",id:v.subjectType[n]}),c.a.createElement(o.b,{key:"billType",id:v[d]})]})),c.a.createElement(u.a,{onClick:b},c.a.createElement(o.b,{id:v.refresh}))),c.a.createElement(g,{subjectType:n,type:d,data:E,loading:p}))}},633:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(24),l=n(28),i=n(29),o=n(343),u=n(192),s=n(344),d=Object(l.a)(i.a),m=function(){return d.getCurrentAllocatedBillings(u.a.UserProjectAssignment).then((function(e){return e.billings}))},f=function(){return r.a.createElement(s.a,{billType:u.b.Allocated,subjectType:u.a.UserProjectAssignment,promiseFn:m})},p=function(e){return d.getHistoryAllocatedBillings(u.a.UserProjectAssignment,e).then((function(e){return e.billings}))},b=function(e){var t=e.userId,n=e.location;return r.a.createElement(o.a,{id:t,billType:u.b.Allocated,subjectType:u.a.UserProjectAssignment,getData:p,location:n})};t.default=function(){return r.a.createElement(c.c,null,r.a.createElement(f,{path:"/"}),r.a.createElement(b,{path:":userId"}))}}}]);
//# sourceMappingURL=28.bdea517c.chunk.js.map